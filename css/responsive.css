/* responsive.css - Responsive design styles */
@media (max-width: 768px) {
    .header-container {
        flex-direction: column;
        height: auto;
    }
    
    .container {
        flex-direction: column;
        height: auto;
        min-height: calc(100vh - 200px);
    }
    
    .register-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .listing-controls, .memory-controls {
        flex-direction: column;
        align-items: stretch;
        gap: 4px;
    }
    
    .listing-controls label, .memory-controls label {
        text-align: center;
    }
    
    .controls {
        flex-wrap: wrap;
        gap: 6px;
        padding: 4px 10px;
    }
    
    .controls-left, .controls-right {
        flex: 1;
        justify-content: center;
    }
    
    button {
        flex: 1;
        min-width: 70px;
        padding: 3px 8px;
    }

    .memory-controls {
        flex-direction: column;
        height: auto;
        gap: 8px;
        padding: 8px;
    }
    
    .controls-divider {
        display: none;
    }
    
    .memory-address-controls, .segment-navigation {
        width: 100%;
        justify-content: space-between;
    }
    
    .memory-controls input, .memory-controls select {
        flex: 1;
    }
    
    .memory-controls label {
        font-size: 10px;
    }
    
    .tab-buttons {
        flex-wrap: wrap;
    }
    
    .tab-button {
        flex: 1;
        min-width: 70px;
        padding: 4px 12px;
    }
    
    .memory-disassembly {
        width: 150px;
        font-size: 10px;
    }
    
    .memory-bytes {
        width: 50px;
    }
    
    .memory-address {
        width: 60px;
    }
    .mobile-controls {
        display: flex !important;
        gap: 8px;
        padding: 8px 10px;
        background: #2d2d30;
        border-bottom: 1px solid #3e3e42;
        position: relative;
        z-index: 2;
    }

    .mobile-controls button {
        flex: 1;
        min-height: 32px;
        font-size: 12px;
        padding: 6px 10px;
        background: #0e639c;
        color: white;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        font-family: 'Courier New', monospace;
    }
    .mobile-controls button:hover { background: #1177bb; }
    .mobile-controls button:disabled { background: #555; cursor: not-allowed; }

    .transcript-panel { display: none; }
    .memory-panel { display: none; }

    #machine-tab { display: none; }
    #machine-tab.active { display: flex; }

    .memory-display { overflow-x: hidden; }
    .memory-source { white-space: normal; }
    .memory-disassembly { white-space: normal; }

    .header .logo-container { display: none; }
    .header .subtitle { display: none; }
    .header { padding: 6px 12px; }
    .header-text h1 { font-size: 16px; }

    .editor-header { flex-direction: row; gap: 8px; align-items: center; height: auto; }
    .editor-controls-center { flex: 1; width: auto; justify-content: flex-start; }
    .editor-controls-center button { flex: 0 0 auto; }
    .editor-controls-center label[for="example-select"] { display: none; }

    #status-bar { display: none; }
    /* Mini menu: replaces File/Edit on mobile */
    .file-menu, .edit-menu { display: none; }
    .mini-menu { display: flex !important; align-items: center; gap: 8px; align-self: flex-start; width: auto; position: relative; }
    .mini-menu-btn { 
        background: #2d2d30; color: #d4d4d4; border: 1px solid #3e3e42; 
        border-radius: 3px; width: 28px; height: 28px; line-height: 26px; 
        text-align: center; font-size: 14px; transform: rotate(0deg); transition: transform 0.2s ease;
        flex: 0 0 28px; display: inline-flex; justify-content: center; align-items: center; padding: 0;
    }
    .mini-menu-btn.open { transform: rotate(90deg); }
    .mini-menu-panel { 
        display: none; position: absolute; top: calc(100% + 4px); left: 0; background: #1e1e1e; border: 1px solid #3e3e42; 
        padding: 6px; border-radius: 4px; z-index: 1000; 
    }
    .mini-menu-panel.show { display: block; }
    /* Ensure dropdowns stack inside mini panel */
    #mini-menu-panel .file-dropdown, #mini-menu-panel .edit-dropdown { 
        position: static; display: block; box-shadow: none; border: none; padding: 0; margin: 0; 
    }
    #mini-menu-panel .file-dropdown button, #mini-menu-panel .edit-dropdown button {
        width: 100%; text-align: left; padding: 6px 8px; font-size: 12px;
    }
}

@media (max-width: 480px) {
    .header h1 {
        font-size: 18px;
    }
    
    .header .subtitle {
        font-size: 11px;
    }
    
    .register-grid {
        grid-template-columns: 1fr;
    }
    
    .controls {
        padding: 3px 8px;
    }
    
    button {
        font-size: 11px;
        padding: 2px 6px;
    }
    
    .tab-button {
        font-size: 11px;
        padding: 3px 8px;
    }
    
    .memory-disassembly {
        width: 120px;
        font-size: 9px;
    }
    
    .memory-bytes {
        width: 45px;
        font-size: 9px;
    }
    
    .memory-address {
        width: 55px;
        font-size: 9px;
    }
    
    .memory-data {
        width: 40px;
        font-size: 9px;
        padding: 0 2px;
    }
}

/* Scrollbar styling */
.transcript::-webkit-scrollbar,
.memory-display::-webkit-scrollbar,
.assembly-listing::-webkit-scrollbar,
.registers-container::-webkit-scrollbar,
.editor::-webkit-scrollbar,
.errors-list::-webkit-scrollbar {
    width: 8px;
}

.transcript::-webkit-scrollbar-track,
.memory-display::-webkit-scrollbar-track,
.assembly-listing::-webkit-scrollbar-track,
.registers-container::-webkit-scrollbar-track,
.editor::-webkit-scrollbar-track,
.errors-list::-webkit-scrollbar-track {
    background: #2d2d30;
}

.transcript::-webkit-scrollbar-thumb,
.memory-display::-webkit-scrollbar-thumb,
.assembly-listing::-webkit-scrollbar-thumb,
.registers-container::-webkit-scrollbar-thumb,
.editor::-webkit-scrollbar-thumb,
.errors-list::-webkit-scrollbar-thumb {
    background: #424242;
    border-radius: 4px;
}

.transcript::-webkit-scrollbar-thumb:hover,
.memory-display::-webkit-scrollbar-thumb:hover,
.assembly-listing::-webkit-scrollbar-thumb:hover,
.registers-container::-webkit-scrollbar-thumb:hover,
.editor::-webkit-scrollbar-thumb:hover,
.errors-list::-webkit-scrollbar-thumb:hover {
    background: #4f4f4f;
}

@supports (-webkit-touch-callout: none) {
    .container {
        height: calc(100vh - 170px);
    }
    
    .editor, .memory-display, .registers-container, .errors-list, .assembly-listing {
        -webkit-overflow-scrolling: touch;
    }
}
